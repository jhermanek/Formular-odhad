<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interaktivn√≠ dotazn√≠k ocenƒõn√≠ nemovitosti</title>
<style>
  /* --- Tady vlo≈æ cel√Ω tv≈Øj CSS styl p≈ôesnƒõ tak, jak jsi poslal --- */
  body {
    background: #f0fdfa;
    font-family: 'Poppins', sans-serif;
    color: #276749;
    margin: 0;
  }
  .form-wrapper {
    max-width: 700px;
    margin: 40px auto 80px auto;
    background: white;
    padding: 50px 40px;
    border-radius: 20px;
    box-shadow: 0 20px 50px rgba(16, 185, 129, 0.3);
    text-align: center;
    position: relative;
  }
  h1, h2 {
    font-weight: 700;
    color: #047857;
    margin: 0 0 20px 0;
  }
  h1 {
    font-size: 2.8rem;
    animation: gentleWave 5s ease-in-out infinite;
  }
  h2 {
    font-size: 2rem;
  }
  p.description {
    font-style: italic;
    color: #4a5568;
    margin-bottom: 40px;
    font-size: 1.2rem;
  }
  .options-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 40px 50px;
    justify-items: center;
    margin-bottom: 40px;
  }
  .option-btn {
    background: #d1fae5;
    border: 2px solid #34d399;
    border-radius: 20px;
    padding: 60px 32px 70px 32px;
    font-weight: 700;
    color: #065f46;
    width: 260px;
    cursor: pointer;
    box-shadow: 0 10px 22px rgba(52, 211, 153, 0.35);
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
    transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.4s forwards;
  }
  .option-btn:nth-child(1) { animation-delay: 0.1s; }
  .option-btn:nth-child(2) { animation-delay: 0.3s; }
  .option-btn:nth-child(3) { animation-delay: 0.5s; }
  .option-btn:nth-child(4) { animation-delay: 0.7s; }
  .option-btn:hover {
    background: #34d399;
    color: white;
    transform: translateY(-6px) scale(1.07);
    box-shadow: 0 15px 40px rgba(52, 211, 153, 0.6);
  }
  .option-btn .icon {
    font-size: 5rem;
    margin-bottom: 30px;
    animation: pulseSoft 3.5s ease-in-out infinite;
    line-height: 1.2;
  }
  .option-btn .text {
    font-size: 1.6rem;
    line-height: 1.2;
    word-wrap: break-word;
    white-space: normal;
  }
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes pulseSoft {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  @keyframes gentleWave {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(1.2deg); }
  }

  /* Additional styling for questions */
  .question-section {
    display: none;
    text-align: center;
  }
  .question-section.active {
    display: block;
    animation: fadeInUp 0.4s forwards;
  }
  .options-grid-small {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px 30px;
    justify-items: center;
    margin-bottom: 40px;
  }
  .option-btn-small {
    background: #e0f2f1;
    border: 2px solid #4db6ac;
    border-radius: 15px;
    padding: 35px 25px 45px 25px;
    font-weight: 600;
    color: #00695c;
    width: 160px;
    cursor: pointer;
    box-shadow: 0 6px 15px rgba(77, 182, 172, 0.35);
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
    transition: background 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
    text-align: center;
  }
  .option-btn-small:hover {
    background: #4db6ac;
    color: white;
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 12px 28px rgba(77, 182, 172, 0.65);
  }
  .option-btn-small.selected {
    background: #00796b;
    color: white;
    border-color: #00796b;
  }
  .option-btn-small .icon {
    font-size: 3.5rem;
    margin-bottom: 20px;
    animation: pulseSoft 3.5s ease-in-out infinite;
    line-height: 1.2;
  }
  .option-btn-small .text {
    font-size: 1rem;
    line-height: 1.2;
  }
  .next-btn {
    background: #047857;
    color: white;
    padding: 16px 50px;
    border-radius: 30px;
    font-weight: 700;
    font-size: 1.3rem;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 10px 25px rgba(4, 120, 87, 0.5);
    transition: background 0.3s ease;
    margin-top: 10px;
  }
  .next-btn:disabled {
    background: #a7c9b4;
    cursor: not-allowed;
    box-shadow: none;
  }
  .next-btn:hover:not(:disabled) {
    background: #065f46;
  }
  .checkbox-group {
    margin-bottom: 40px;
    text-align: left;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
  .checkbox-group label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    font-weight: 600;
    color: #00695c;
    margin-bottom: 8px;
  }
  .checkbox-group input[type="checkbox"] {
    margin-right: 10px;
    width: 20px;
    height: 20px;
    accent-color: #047857;
    cursor: pointer;
  }

  /* Contact form inputs */
  .contact-input {
    width: 100%;
    max-width: 400px;
    padding: 12px 16px;
    margin: 8px auto 20px auto;
    border-radius: 10px;
    border: 2px solid #34d399;
    font-size: 1.1rem;
    color: #065f46;
    background-color: #d1fae5;
    transition: border-color 0.3s ease;
  }
  .contact-input:focus {
    outline: none;
    border-color: #047857;
    background-color: #b7f0cd;
  }

  /* Progress bar */
  .progress-container {
    height: 22px;
    background: #d1fae5;
    border-radius: 20px;
    margin-bottom: 30px;
    position: relative;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #34d399, #f87171);
    border-radius: 20px;
    transition: width 0.6s ease;
  }
  .progress-text {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    font-weight: 700;
    color: #065f46;
    font-size: 1rem;
    text-shadow: 0 0 2px rgba(255,255,255,0.6);
  }

  /* Button group for navigation */
  .btn-group {
    display: flex;
    justify-content: space-between;
    max-width: 420px;
    margin: 0 auto 40px auto;
  }
  .btn-group button {
    background: #047857;
    border-radius: 30px;
    color: white;
    border: none;
    padding: 14px 40px;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 10px 25px rgba(4, 120, 87, 0.5);
    transition: background 0.3s ease;
    min-width: 140px;
  }
  .btn-group button:disabled {
    background: #a7c9b4;
    cursor: not-allowed;
    box-shadow: none;
  }
  .btn-group button:hover:not(:disabled) {
    background: #065f46;
  }

  /* Final fireworks */
  .fireworks-container {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    z-index: 9999;
  }
  .congrats-message {
    font-size: 2.2rem;
    font-weight: 900;
    color: #16a34a;
    text-shadow: 0 0 12px #34d399, 0 0 20px #bbf7d0;
    margin-bottom: 20px;
    animation: glow 2.5s ease-in-out infinite;
  }
  @keyframes glow {
    0%, 100% { text-shadow: 0 0 12px #34d399, 0 0 20px #bbf7d0; }
    50% { text-shadow: 0 0 22px #22c55e, 0 0 30px #bbf7d0; }
  }

  /* Responsive styles */
  @media (max-width: 768px) {
    .form-wrapper {
      width: 90vw;
      padding: 30px 20px 40px 20px;
      margin: 20px auto 60px auto;
    }
    h1 {
      font-size: 1.8rem;
    }
    h2 {
      font-size: 1.3rem;
      margin-bottom: 20px;
    }
    p.description {
      font-size: 1rem;
      margin-bottom: 30px;
    }
    .options-grid {
      grid-template-columns: 1fr !important;
      gap: 25px 0;
    }
    .option-btn {
      width: 100% !important;
      font-size: 1.3rem !important;
      padding: 45px 20px 55px 20px !important;
    }
    .option-btn .icon {
      font-size: 4rem !important;
    }
    .options-grid-small {
      grid-template-columns: 1fr !important;
      gap: 18px 0;
    }
    .option-btn-small {
      width: 100% !important;
      font-size: 1.1rem !important;
      padding: 25px 18px 35px 18px !important;
    }
    .option-btn-small .icon {
      font-size: 3rem !important;
    }
    .btn-group {
      flex-direction: column;
      gap: 18px;
      max-width: 90vw;
      margin: 0 auto 40px auto;
    }
    .btn-group button {
      width: 100%;
      font-size: 1.1rem;
      padding: 14px 0;
      min-width: unset;
    }
    .contact-input {
      font-size: 1rem !important;
      padding: 12px 16px !important;
    }
    .progress-container {
      height: 14px;
      margin-bottom: 30px;
    }
    .progress-text {
      font-size: 0.85rem;
      top: 12px;
      right: 10px;
    }
  }

  @media (max-width: 400px) {
    .option-btn .text {
      font-size: 1.4rem;
    }
    .option-btn-small .text {
      font-size: 1rem;
    }
  }
</style>
</head>
<body>
<div class="form-wrapper">

  <div class="progress-container" aria-label="Pr≈Øbƒõh dotazn√≠ku">
    <div class="progress-bar" id="progress-bar"></div>
    <div class="progress-text" id="progress-text">0%</div>
  </div>

  <!-- Section 1: Vyber typu nemovitosti -->
  <div id="section1" class="question-section active" role="region" aria-labelledby="section1-header">
    <h1 id="section1-header">Jakou nemovitost chcete ocenit?</h1>
    <p class="description">Ocenƒõn√≠ dostanete do 24 hodin zcela zdarma! Vyberte typ a zjistƒõte, kolik stoj√≠ v√°≈° kousek r√°je! üè°üíö</p>
    <div class="options-grid">
      <div class="option-btn" data-type="byt" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¢</div>
        <div class="text">Byt</div>
      </div>
      <div class="option-btn" data-type="dum" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè°</div>
        <div class="text">Rodinn√Ω d≈Øm</div>
      </div>
      <div class="option-btn" data-type="pozemek" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">Pozemek</div>
      </div>
      <div class="option-btn" data-type="komercni" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè™</div>
        <div class="text">Komerƒçn√≠</div>
      </div>
    </div>
  </div>

  <!-- BYT SECTIONS -->

  <!-- Section 2: Byt - Velikost -->
  <div id="section2-byt" class="question-section" role="region" aria-labelledby="section2-header">
    <h2 id="section2-header">Jak√° je velikost bytu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="flat-size" data-value="do 30 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 30 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="30-50 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">30-50 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="50-70 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">50-70 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="70-90 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">70-90 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="90-110 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">90-110 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="110+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">110+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2" type="button">Zpƒõt</button>
      <button id="btn-flat-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3: Byt - Stav -->
  <div id="section3-byt" class="question-section" role="region" aria-labelledby="section3-header">
    <h2 id="section3-header">Jak√Ω je stav bytu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="flat-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3" type="button">Zpƒõt</button>
      <button id="btn-flat-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4: Byt - Typ vyt√°pƒõn√≠ -->
  <div id="section4-heating" class="question-section" role="region" aria-labelledby="section4-heating-header">
    <h2 id="section4-heating-header">Jak√Ω typ vyt√°pƒõn√≠ m√° byt?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="heating" data-value="√öst≈ôedn√≠ topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî•</div>
        <div class="text">√öst≈ôedn√≠ topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Elektrick√© topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Elektrick√© topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Podlahov√© vyt√°pƒõn√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå°Ô∏è</div>
        <div class="text">Podlahov√© vyt√°pƒõn√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-heating" type="button">Zpƒõt</button>
      <button id="btn-heating-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 5: Byt - Stav balkonu -->
  <div id="section5-balcony" class="question-section" role="region" aria-labelledby="section5-balcony-header">
    <h2 id="section5-balcony-header">Jak√Ω je stav balkonu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="balcony-condition" data-value="Nov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Nov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Bez balkonu" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üö´</div>
        <div class="text">Bez balkonu</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-5-balcony" type="button">Zpƒõt</button>
      <button id="btn-balcony-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 6: Byt - Typ podlahy -->
  <div id="section6-floor" class="question-section" role="region" aria-labelledby="section6-floor-header">
    <h2 id="section6-floor-header">Jak√Ω typ podlahy je v bytƒõ?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="floor-type" data-value="D≈ôevo" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">ü™µ</div>
        <div class="text">D≈ôevo</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Lamin√°t" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß±</div>
        <div class="text">Lamin√°t</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Koberec" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß∂</div>
        <div class="text">Koberec</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Keramika" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß±</div>
        <div class="text">Keramika</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-6-floor" type="button">Zpƒõt</button>
      <button id="btn-floor-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- D≈ÆM sekce -->

  <!-- Section 2-dum: Velikost domu -->
  <div id="section2-dum" class="question-section" role="region" aria-labelledby="section2-dum-header">
    <h2 id="section2-dum-header">Jak√° je velikost domu (v m¬≤)?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-size" data-value="do 80 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 80 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="80-120 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">80-120 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="120-160 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">120-160 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="160-200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">160-200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="200+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">200+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-dum" type="button">Zpƒõt</button>
      <button id="btn-house-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-dum: Typ domu -->
  <div id="section3-dum" class="question-section" role="region" aria-labelledby="section3-dum-header">
    <h2 id="section3-dum-header">Jak√Ω typ domu m√°te?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-type" data-value="≈òadov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèòÔ∏è</div>
        <div class="text">≈òadov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Samostatn√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè†</div>
        <div class="text">Samostatn√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Patrov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè°</div>
        <div class="text">Patrov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Bungalov" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèöÔ∏è</div>
        <div class="text">Bungalov</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-dum" type="button">Zpƒõt</button>
      <button id="btn-house-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-dum: Stav domu -->
  <div id="section4-dum" class="question-section" role="region" aria-labelledby="section4-dum-header">
    <h2 id="section4-dum-header">Jak√Ω je stav domu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-dum" type="button">Zpƒõt</button>
      <button id="btn-house-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 5-dum: Typ vyt√°pƒõn√≠ -->
  <div id="section5-dum-heating" class="question-section" role="region" aria-labelledby="section5-dum-heating-header">
    <h2 id="section5-dum-heating-header">Jak√Ω typ vyt√°pƒõn√≠ m√° d≈Øm?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-heating" data-value="√öst≈ôedn√≠ topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî•</div>
        <div class="text">√öst≈ôedn√≠ topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Elektrick√© topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Elektrick√© topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Podlahov√© vyt√°pƒõn√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå°Ô∏è</div>
        <div class="text">Podlahov√© vyt√°pƒõn√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-5-dum-heating" type="button">Zpƒõt</button>
      <button id="btn-house-heating-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 6-dum: Velikost pozemku -->
  <div id="section6-dum-plot" class="question-section" role="region" aria-labelledby="section6-dum-plot-header">
    <h2 id="section6-dum-plot-header">Jak velk√Ω je pozemek?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-size" data-value="do 200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">do 200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="200-500 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">200-500 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="500-1000 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">500-1000 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="1000+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">1000+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-6-dum-plot" type="button">Zpƒõt</button>
      <button id="btn-plot-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 7-dum: Vybaven√≠ domu -->
  <div id="section7-dum-equipment" class="question-section" role="region" aria-labelledby="section7-dum-equipment-header">
    <h2 id="section7-dum-equipment-header">Jak√© m√° d≈Øm vybaven√≠?</h2>
    <div class="checkbox-group">
      <label><input type="checkbox" data-name="house-equipment" data-value="Gar√°≈æ" /> Gar√°≈æ</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Baz√©n" /> Baz√©n</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Sklep" /> Sklep</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Terasa" /> Terasa</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Krb" /> Krb</label><br/>
    </div>
    <div class="btn-group">
      <button id="btn-back-7-dum-equipment" type="button">Zpƒõt</button>
      <button id="btn-equipment-next" class="next-btn" type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- POZEMEK sekce -->

  <!-- Section 2-pozemek: Velikost pozemku -->
  <div id="section2-pozemek" class="question-section" role="region" aria-labelledby="section2-pozemek-header">
    <h2 id="section2-pozemek-header">Jak velk√Ω je pozemek?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-size" data-value="do 200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">do 200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="200-500 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">200-500 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="500-1000 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">500-1000 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="1000+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">1000+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-pozemek: Typ pozemku -->
  <div id="section3-pozemek" class="question-section" role="region" aria-labelledby="section3-pozemek-header">
    <h2 id="section3-pozemek-header">Jak√Ω je typ pozemku?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-type" data-value="Zahrada" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå∑</div>
        <div class="text">Zahrada</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Stavebn√≠ pozemek" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèóÔ∏è</div>
        <div class="text">Stavebn√≠ pozemek</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Orn√° p≈Øda" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üåæ</div>
        <div class="text">Orn√° p≈Øda</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Les" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≤</div>
        <div class="text">Les</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Jin√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√Ω</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-pozemek: P≈ô√≠stupov√° cesta -->
  <div id="section4-pozemek" class="question-section" role="region" aria-labelledby="section4-pozemek-header">
    <h2 id="section4-pozemek-header">M√° pozemek p≈ô√≠stupovou cestu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-access" data-value="Ano" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üõ£Ô∏è</div>
        <div class="text">Ano</div>
      </div>
      <div class="option-btn-small" data-name="plot-access" data-value="Ne" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üö´</div>
        <div class="text">Ne</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-access-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- KOMERƒåN√ç sekce -->

  <!-- Section 2-komercni: Typ komerƒçn√≠ nemovitosti -->
  <div id="section2-komercni" class="question-section" role="region" aria-labelledby="section2-komercni-header">
    <h2 id="section2-komercni-header">Jak√Ω typ komerƒçn√≠ nemovitosti m√°te?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-type" data-value="Obchodn√≠ prostor" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¨</div>
        <div class="text">Obchodn√≠ prostor</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Kancel√°≈ô" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¢</div>
        <div class="text">Kancel√°≈ô</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Sklad" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üì¶</div>
        <div class="text">Sklad</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="V√Ωrobn√≠ hala" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè≠</div>
        <div class="text">V√Ωrobn√≠ hala</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Jin√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√Ω</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-komercni: Velikost plochy -->
  <div id="section3-komercni" class="question-section" role="region" aria-labelledby="section3-komercni-header">
    <h2 id="section3-komercni-header">Jak√° je velikost plochy (m¬≤)?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-area" data-value="do 100 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 100 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="100-300 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">100-300 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="300-600 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">300-600 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="600+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">600+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-area-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-komercni: Stav komerƒçn√≠ nemovitosti -->
  <div id="section4-komercni" class="question-section" role="region" aria-labelledby="section4-komercni-header">
    <h2 id="section4-komercni-header">Jak√Ω je stav komerƒçn√≠ nemovitosti?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 5-komercni: Vyt√°pƒõn√≠ -->
  <div id="section5-komercni-heating" class="question-section" role="region" aria-labelledby="section5-komercni-heating-header">
    <h2 id="section5-komercni-heating-header">Jak√Ω typ vyt√°pƒõn√≠ m√° komerƒçn√≠ nemovitost?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-heating" data-value="√öst≈ôedn√≠ topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî•</div>
        <div class="text">√öst≈ôedn√≠ topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="commercial-heating" data-value="Elektrick√© topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Elektrick√© topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="commercial-heating" data-value="Podlahov√© vyt√°pƒõn√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå°Ô∏è</div>
        <div class="text">Podlahov√© vyt√°pƒõn√≠</div>
      </div>
      <div class="option-btn-small" data-name="commercial-heating" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-5-komercni-heating" type="button">Zpƒõt</button>
      <button id="btn-commercial-heating-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Final section: Kontaktn√≠ √∫daje -->
  <div id="section-final" class="question-section" role="region" aria-labelledby="section-final-header">
    <h2 id="section-final-header">Zanechte n√°m sv≈Øj kontakt</h2>
    <p>Do 24 hodin v√°m zdarma po≈°leme ocenƒõn√≠ nemovitosti na e-mail.</p>
    <input id="input-name" class="contact-input" type="text" placeholder="Va≈°e jm√©no" aria-label="Va≈°e jm√©no" required />
    <input id="input-email" class="contact-input" type="email" placeholder="V√°≈° e-mail" aria-label="V√°≈° e-mail" required />
    <input id="input-phone" class="contact-input" type="tel" placeholder="V√°≈° telefon" aria-label="V√°≈° telefon" />
    <button id="btn-submit" class="next-btn" type="button" disabled>Odeslat</button>
  </div>

  <!-- Success message -->
  <div id="success-message" class="question-section" role="region" aria-live="polite" style="display:none;">
    <div class="congrats-message">Dƒõkujeme! Va≈°e ≈æ√°dost byla odesl√°na.</div>
    <p>Ocenƒõn√≠ nemovitosti obdr≈æ√≠te bƒõhem 24 hodin na sv≈Øj e-mail.</p>
  </div>

</div>

<script>
  // --- Variables for form state ---
  const formState = {
    propertyType: null,
    flatSize: null,
    flatCondition: null,
    heating: null,
    balconyCondition: null,
    floorType: null,

    houseSize: null,
    houseType: null,
    houseCondition: null,
    houseHeating: null,
    plotSizeHouse: null,
    houseEquipment: [],

    plotSize: null,
    plotType: null,
    plotAccess: null,

    commercialType: null,
    commercialArea: null,
    commercialCondition: null,
    commercialHeating: null,

    name: '',
    email: '',
    phone: ''
  };

  // Show only the specified section, hide others
  function showSection(id) {
    document.querySelectorAll('.question-section').forEach(section => {
      if(section.id === id) {
        section.classList.add('active');
      } else {
        section.classList.remove('active');
      }
    });
    updateProgress(id);
  }

  // Update progress bar and text
  function updateProgress(currentSection) {
    const steps = [
      'section1',
      'section2-byt',
      'section3-byt',
      'section4-heating',
      'section5-balcony',
      'section6-floor',

      'section2-dum',
      'section3-dum',
      'section4-dum',
      'section5-dum-heating',
      'section6-dum-plot',
      'section7-dum-equipment',

      'section2-pozemek',
      'section3-pozemek',
      'section4-pozemek',

      'section2-komercni',
      'section3-komercni',
      'section4-komercni',
      'section5-komercni-heating',

      'section-final',
      'success-message'
    ];

    const currentIndex = steps.indexOf(currentSection);
    if(currentIndex === -1) return;

    const progressPercent = Math.round((currentIndex / (steps.length - 1)) * 100);
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    if(progressBar) progressBar.style.width = progressPercent + '%';
    if(progressText) progressText.textContent = progressPercent + '%';
  }

  // Setup click and keyboard navigation for option buttons
  function setupOptionButtons(containerSelector, groupName, onSelect) {
    const container = document.querySelector(containerSelector);
    if(!container) return;

    const buttons = container.querySelectorAll('.option-btn, .option-btn-small');
    buttons.forEach(btn => {
      // Click event
      btn.addEventListener('click', () => {
        buttons.forEach(b => {
          b.setAttribute('aria-pressed', 'false');
          b.classList.remove('selected');
        });
        btn.setAttribute('aria-pressed', 'true');
        btn.classList.add('selected');
        onSelect(btn.dataset.value);
      });

      // Keyboard support (Space and Enter)
      btn.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          btn.click();
        }
      });
    });
  }

  // Setup checkboxes group (for house equipment)
  function setupCheckboxGroup(containerSelector, groupName, onChange) {
    const container = document.querySelector(containerSelector);
    if(!container) return;

    const checkboxes = container.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        onChange();
      });
    });
  }

  // Validate contact inputs to enable submit button
  function validateContactInputs() {
    const nameInput = document.getElementById('input-name');
    const emailInput = document.getElementById('input-email');
    const phoneInput = document.getElementById('input-phone');
    const submitBtn = document.getElementById('btn-submit');

    const nameVal = nameInput.value.trim();
    const emailVal = emailInput.value.trim();

    // Simple email validation regex
    const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal);

    if(nameVal && emailValid) {
      submitBtn.disabled = false;
    } else {
      submitBtn.disabled = true;
    }
  }

  // Initialize
  document.addEventListener('DOMContentLoaded', () => {
    // SECTION 1 - property type
    setupOptionButtons('#section1 .options-grid', 'propertyType', value => {
      formState.propertyType = value;
      // Show next section depending on propertyType
      switch(value) {
        case 'byt': showSection('section2-byt'); break;
        case 'dum': showSection('section2-dum'); break;
        case 'pozemek': showSection('section2-pozemek'); break;
        case 'komercni': showSection('section2-komercni'); break;
      }
    });

    // --- BYT FLOW ---
    setupOptionButtons('#section2-byt .options-grid-small', 'flatSize', value => {
      formState.flatSize = value;
      document.getElementById('btn-flat-size-next').disabled = false;
    });
    document.getElementById('btn-flat-size-next').addEventListener('click', () => {
      showSection('section3-byt');
      document.getElementById('btn-flat-condition-next').disabled = !formState.flatCondition;
    });

    setupOptionButtons('#section3-byt .options-grid-small', 'flatCondition', value => {
      formState.flatCondition = value;
      document.getElementById('btn-flat-condition-next').disabled = false;
    });
    document.getElementById('btn-flat-condition-next').addEventListener('click', () => {
      showSection('section4-heating');
      document.getElementById('btn-heating-next').disabled = !formState.heating;
    });

    setupOptionButtons('#section4-heating .options-grid-small', 'heating', value => {
      formState.heating = value;
      document.getElementById('btn-heating-next').disabled = false;
    });
    document.getElementById('btn-heating-next').addEventListener('click', () => {
      showSection('section5-balcony');
      document.getElementById('btn-balcony-next').disabled = !formState.balconyCondition;
    });

    setupOptionButtons('#section5-balcony .options-grid-small', 'balconyCondition', value => {
      formState.balconyCondition = value;
      document.getElementById('btn-balcony-next').disabled = false;
    });
    document.getElementById('btn-balcony-next').addEventListener('click', () => {
      showSection('section6-floor');
      document.getElementById('btn-floor-next').disabled = !formState.floorType;
    });

    setupOptionButtons('#section6-floor .options-grid-small', 'floorType', value => {
      formState.floorType = value;
      document.getElementById('btn-floor-next').disabled = false;
    });
    document.getElementById('btn-floor-next').addEventListener('click', () => {
      showSection('section-final');
      validateContactInputs();
    });

    // Back buttons for BYT
    document.getElementById('btn-back-2').addEventListener('click', () => showSection('section1'));
    document.getElementById('btn-back-3').addEventListener('click', () => showSection('section2-byt'));
    document.getElementById('btn-back-4-heating').addEventListener('click', () => showSection('section3-byt'));
    document.getElementById('btn-back-5-balcony').addEventListener('click', () => showSection('section4-heating'));
    document.getElementById('btn-back-6-floor').addEventListener('click', () => showSection('section5-balcony'));

    // --- D≈ÆM FLOW ---
    setupOptionButtons('#section2-dum .options-grid-small', 'houseSize', value => {
      formState.houseSize = value;
      document.getElementById('btn-house-size-next').disabled = false;
    });
    document.getElementById('btn-house-size-next').addEventListener('click', () => {
      showSection('section3-dum');
      document.getElementById('btn-house-type-next').disabled = !formState.houseType;
    });

    setupOptionButtons('#section3-dum .options-grid-small', 'houseType', value => {
      formState.houseType = value;
      document.getElementById('btn-house-type-next').disabled = false;
    });
    document.getElementById('btn-house-type-next').addEventListener('click', () => {
      showSection('section4-dum');
      document.getElementById('btn-house-condition-next').disabled = !formState.houseCondition;
    });

    setupOptionButtons('#section4-dum .options-grid-small', 'houseCondition', value => {
      formState.houseCondition = value;
      document.getElementById('btn-house-condition-next').disabled = false;
    });
    document.getElementById('btn-house-condition-next').addEventListener('click', () => {
      showSection('section5-dum-heating');
      document.getElementById('btn-house-heating-next').disabled = !formState.houseHeating;
    });

    setupOptionButtons('#section5-dum-heating .options-grid-small', 'houseHeating', value => {
      formState.houseHeating = value;
      document.getElementById('btn-house-heating-next').disabled = false;
    });
    document.getElementById('btn-house-heating-next').addEventListener('click', () => {
      showSection('section6-dum-plot');
      document.getElementById('btn-plot-size-next').disabled = !formState.plotSizeHouse;
    });

    setupOptionButtons('#section6-dum-plot .options-grid-small', 'plotSizeHouse', value => {
      formState.plotSizeHouse = value;
      document.getElementById('btn-plot-size-next').disabled = false;
    });
    document.getElementById('btn-plot-size-next').addEventListener('click', () => {
      showSection('section7-dum-equipment');
    });

    setupCheckboxGroup('#section7-dum-equipment .checkbox-group', 'houseEquipment', () => {
      const checkedBoxes = document.querySelectorAll('#section7-dum-equipment .checkbox-group input[type="checkbox"]:checked');
      formState.houseEquipment = Array.from(checkedBoxes).map(cb => cb.dataset.value);
    });
    document.getElementById('btn-equipment-next').addEventListener('click', () => {
      showSection('section-final');
      validateContactInputs();
    });

    // Back buttons for D≈ÆM
    document.getElementById('btn-back-2-dum').addEventListener('click', () => showSection('section1'));
    document.getElementById('btn-back-3-dum').addEventListener('click', () => showSection('section2-dum'));
    document.getElementById('btn-back-4-dum').addEventListener('click', () => showSection('section3-dum'));
    document.getElementById('btn-back-5-dum-heating').addEventListener('click', () => showSection('section4-dum'));
    document.getElementById('btn-back-6-dum-plot').addEventListener('click', () => showSection('section5-dum-heating'));
    document.getElementById('btn-back-7-dum-equipment').addEventListener('click', () => showSection('section6-dum-plot'));

    // --- POZEMEK FLOW ---
    setupOptionButtons('#section2-pozemek .options-grid-small', 'plotSize', value => {
      formState.plotSize = value;
      document.getElementById('btn-plot-next').disabled = false;
    });
    document.getElementById('btn-plot-next').addEventListener('click', () => {
      showSection('section3-pozemek');
      document.getElementById('btn-plot-type-next').disabled = !formState.plotType;
    });

    setupOptionButtons('#section3-pozemek .options-grid-small', 'plotType', value => {
      formState.plotType = value;
      document.getElementById('btn-plot-type-next').disabled = false;
    });
    document.getElementById('btn-plot-type-next').addEventListener('click', () => {
      showSection('section4-pozemek');
      document.getElementById('btn-plot-access-next').disabled = !formState.plotAccess;
    });

    setupOptionButtons('#section4-pozemek .options-grid-small', 'plotAccess', value => {
      formState.plotAccess = value;
      document.getElementById('btn-plot-access-next').disabled = false;
    });
    document.getElementById('btn-plot-access-next').addEventListener('click', () => {
      showSection('section-final');
      validateContactInputs();
    });

    // Back buttons for POZEMEK
    document.getElementById('btn-back-2-pozemek').addEventListener('click', () => showSection('section1'));
    document.getElementById('btn-back-3-pozemek').addEventListener('click', () => showSection('section2-pozemek'));
    document.getElementById('btn-back-4-pozemek').addEventListener('click', () => showSection('section3-pozemek'));

    // --- KOMERƒåN√ç FLOW ---
    setupOptionButtons('#section2-komercni .options-grid-small', 'commercialType', value => {
      formState.commercialType = value;
      document.getElementById('btn-commercial-type-next').disabled = false;
    });
    document.getElementById('btn-commercial-type-next').addEventListener('click', () => {
      showSection('section3-komercni');
      document.getElementById('btn-commercial-area-next').disabled = !formState.commercialArea;
    });

    setupOptionButtons('#section3-komercni .options-grid-small', 'commercialArea', value => {
      formState.commercialArea = value;
      document.getElementById('btn-commercial-area-next').disabled = false;
    });
    document.getElementById('btn-commercial-area-next').addEventListener('click', () => {
      showSection('section4-komercni');
      document.getElementById('btn-commercial-condition-next').disabled = !formState.commercialCondition;
    });

    setupOptionButtons('#section4-komercni .options-grid-small', 'commercialCondition', value => {
      formState.commercialCondition = value;
      document.getElementById('btn-commercial-condition-next').disabled = false;
    });
    document.getElementById('btn-commercial-condition-next').addEventListener('click', () => {
      showSection('section5-komercni-heating');
      document.getElementById('btn-commercial-heating-next').disabled = !formState.commercialHeating;
    });

    setupOptionButtons('#section5-komercni-heating .options-grid-small', 'commercialHeating', value => {
      formState.commercialHeating = value;
      document.getElementById('btn-commercial-heating-next').disabled = false;
    });
    document.getElementById('btn-commercial-heating-next').addEventListener('click', () => {
      showSection('section-final');
      validateContactInputs();
    });

    // Back buttons for KOMERƒåN√ç
    document.getElementById('btn-back-2-komercni').addEventListener('click', () => showSection('section1'));
    document.getElementById('btn-back-3-komercni').addEventListener('click', () => showSection('section2-komercni'));
    document.getElementById('btn-back-4-komercni').addEventListener('click', () => showSection('section3-komercni'));
    document.getElementById('btn-back-5-komercni-heating').addEventListener('click', () => showSection('section4-komercni'));

    // Contact inputs events
    const nameInput = document.getElementById('input-name');
    const emailInput = document.getElementById('input-email');
    const phoneInput = document.getElementById('input-phone');

    [nameInput, emailInput, phoneInput].forEach(input => {
      input.addEventListener('input', () => {
        formState.name = nameInput.value.trim();
        formState.email = emailInput.value.trim();
        formState.phone = phoneInput.value.trim();
        validateContactInputs();
      });
    });

    // Submit button
    document.getElementById('btn-submit').addEventListener('click', async () => {
      if (!formState.name || !formState.email) return;

      // Disable button while sending
      const submitBtn = document.getElementById('btn-submit');
      submitBtn.disabled = true;
      submitBtn.textContent = 'Odes√≠l√°m...';

      // Prepare data object to send
      const dataToSend = {
        propertyType: formState.propertyType,
        flatSize: formState.flatSize,
        flatCondition: formState.flatCondition,
        heating: formState.heating,
        balconyCondition: formState.balconyCondition,
        floorType: formState.floorType,
        houseSize: formState.houseSize,
        houseType: formState.houseType,
        houseCondition: formState.houseCondition,
        houseHeating: formState.houseHeating,
        plotSizeHouse: formState.plotSizeHouse,
        houseEquipment: formState.houseEquipment,
        plotSize: formState.plotSize,
        plotType: formState.plotType,
        plotAccess: formState.plotAccess,
        commercialType: formState.commercialType,
        commercialArea: formState.commercialArea,
        commercialCondition: formState.commercialCondition,
        commercialHeating: formState.commercialHeating,
        name: formState.name,
        email: formState.email,
        phone: formState.phone
      };

      try {
        // Zde vlo≈æ sv≈Øj skuteƒçn√Ω webhook z Make.com
        const webhookURL = 'https://hook.eu2.make.com/9g6oxh7lneur6zismbvssdjihla472uk'; // 

        const response = await fetch(webhookURL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(dataToSend)
        });

        if (response.ok) {
          showSection('success-message');
        } else {
          alert('Odesl√°n√≠ selhalo, zkuste to pros√≠m znovu.');
          submitBtn.disabled = false;
          submitBtn.textContent = 'Odeslat';
        }
      } catch (error) {
        alert('Nastala chyba p≈ôi odes√≠l√°n√≠: ' + error.message);
        submitBtn.disabled = false;
        submitBtn.textContent = 'Odeslat';
      }
    });

  });
</script>
</body>
</html>
