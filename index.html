<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interaktivn√≠ dotazn√≠k ocenƒõn√≠ nemovitosti</title>
<style>
  body {
    background: #f0fdfa;
    font-family: 'Poppins', sans-serif;
    color: #276749;
    margin: 0;
  }
  .form-wrapper {
    max-width: 700px;
    margin: 40px auto 80px auto;
    background: white;
    padding: 50px 40px;
    border-radius: 20px;
    box-shadow: 0 20px 50px rgba(16, 185, 129, 0.3);
    text-align: center;
    position: relative;
  }
  h1, h2 {
    font-weight: 700;
    color: #047857;
    margin: 0 0 20px 0;
  }
  h1 {
    font-size: 2.8rem;
    animation: gentleWave 5s ease-in-out infinite;
  }
  h2 {
    font-size: 2rem;
  }
  p.description {
    font-style: italic;
    color: #4a5568;
    margin-bottom: 40px;
    font-size: 1.2rem;
  }
  .options-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 40px 50px;
    justify-items: center;
    margin-bottom: 40px;
  }
  .option-btn {
    background: #d1fae5;
    border: 2px solid #34d399;
    border-radius: 20px;
    padding: 60px 32px 70px 32px;
    font-weight: 700;
    color: #065f46;
    width: 260px;
    cursor: pointer;
    box-shadow: 0 10px 22px rgba(52, 211, 153, 0.35);
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
    transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 0.4s forwards;
  }
  .option-btn:nth-child(1) { animation-delay: 0.1s; }
  .option-btn:nth-child(2) { animation-delay: 0.3s; }
  .option-btn:nth-child(3) { animation-delay: 0.5s; }
  .option-btn:nth-child(4) { animation-delay: 0.7s; }
  .option-btn:hover {
    background: #34d399;
    color: white;
    transform: translateY(-6px) scale(1.07);
    box-shadow: 0 15px 40px rgba(52, 211, 153, 0.6);
  }
  .option-btn .icon {
    font-size: 5rem;
    margin-bottom: 30px;
    animation: pulseSoft 3.5s ease-in-out infinite;
    line-height: 1.2;
  }
  .option-btn .text {
    font-size: 1.6rem;
    line-height: 1.2;
    word-wrap: break-word;
    white-space: normal;
  }
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes pulseSoft {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  @keyframes gentleWave {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(1.2deg); }
  }

  /* Additional styling for questions */
  .question-section {
    display: none;
    text-align: center;
  }
  .question-section.active {
    display: block;
    animation: fadeInUp 0.4s forwards;
  }
  .options-grid-small {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px 30px;
    justify-items: center;
    margin-bottom: 40px;
  }
  .option-btn-small {
    background: #e0f2f1;
    border: 2px solid #4db6ac;
    border-radius: 15px;
    padding: 35px 25px 45px 25px;
    font-weight: 600;
    color: #00695c;
    width: 160px;
    cursor: pointer;
    box-shadow: 0 6px 15px rgba(77, 182, 172, 0.35);
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
    transition: background 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
    text-align: center;
  }
  .option-btn-small:hover {
    background: #4db6ac;
    color: white;
    transform: translateY(-5px) scale(1.05);
    box-shadow: 0 12px 28px rgba(77, 182, 172, 0.65);
  }
  .option-btn-small.selected {
    background: #00796b;
    color: white;
    border-color: #00796b;
  }
  .option-btn-small .icon {
    font-size: 3.5rem;
    margin-bottom: 20px;
    animation: pulseSoft 3.5s ease-in-out infinite;
    line-height: 1.2;
  }
  .option-btn-small .text {
    font-size: 1rem;
    line-height: 1.2;
  }
  .next-btn {
    background: #047857;
    color: white;
    padding: 16px 50px;
    border-radius: 30px;
    font-weight: 700;
    font-size: 1.3rem;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 10px 25px rgba(4, 120, 87, 0.5);
    transition: background 0.3s ease;
    margin-top: 10px;
  }
  .next-btn:disabled {
    background: #a7c9b4;
    cursor: not-allowed;
    box-shadow: none;
  }
  .next-btn:hover:not(:disabled) {
    background: #065f46;
  }
  .checkbox-group {
    margin-bottom: 40px;
    text-align: left;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
  .checkbox-group label {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    font-weight: 600;
    color: #00695c;
    margin-bottom: 8px;
  }
  .checkbox-group input[type="checkbox"] {
    margin-right: 10px;
    width: 20px;
    height: 20px;
    accent-color: #047857;
    cursor: pointer;
  }

  /* Contact form inputs */
  .contact-input {
    width: 100%;
    max-width: 400px;
    padding: 12px 16px;
    margin: 8px auto 20px auto;
    border-radius: 10px;
    border: 2px solid #34d399;
    font-size: 1.1rem;
    color: #065f46;
    background-color: #d1fae5;
    transition: border-color 0.3s ease;
  }
  .contact-input:focus {
    outline: none;
    border-color: #047857;
    background-color: #b7f0cd;
  }

  /* Progress bar */
  .progress-container {
    height: 22px;
    background: #d1fae5;
    border-radius: 20px;
    margin-bottom: 30px;
    position: relative;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #34d399, #f87171);
    border-radius: 20px;
    transition: width 0.6s ease;
  }
  .progress-text {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    font-weight: 700;
    color: #065f46;
    font-size: 1rem;
    text-shadow: 0 0 2px rgba(255,255,255,0.6);
  }

  /* Button group for navigation */
  .btn-group {
    display: flex;
    justify-content: space-between;
    max-width: 420px;
    margin: 0 auto 40px auto;
  }
  .btn-group button {
    background: #047857;
    border-radius: 30px;
    color: white;
    border: none;
    padding: 14px 40px;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 10px 25px rgba(4, 120, 87, 0.5);
    transition: background 0.3s ease;
    min-width: 140px;
  }
  .btn-group button:disabled {
    background: #a7c9b4;
    cursor: not-allowed;
    box-shadow: none;
  }
  .btn-group button:hover:not(:disabled) {
    background: #065f46;
  }

  /* Final fireworks */
  .fireworks-container {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    z-index: 9999;
  }
  .congrats-message {
    font-size: 2.2rem;
    font-weight: 900;
    color: #16a34a;
    text-shadow: 0 0 12px #34d399, 0 0 20px #bbf7d0;
    margin-bottom: 20px;
    animation: glow 2.5s ease-in-out infinite;
  }
  @keyframes glow {
    0%, 100% { text-shadow: 0 0 12px #34d399, 0 0 20px #bbf7d0; }
    50% { text-shadow: 0 0 22px #22c55e, 0 0 30px #bbf7d0; }
  }

  /* Responsive styles */
  @media (max-width: 768px) {
    .form-wrapper {
      width: 90vw;
      padding: 30px 20px 40px 20px;
      margin: 20px auto 60px auto;
    }
    h1 {
      font-size: 1.8rem;
    }
    h2 {
      font-size: 1.3rem;
      margin-bottom: 20px;
    }
    p.description {
      font-size: 1rem;
      margin-bottom: 30px;
    }
    .options-grid {
      grid-template-columns: 1fr !important;
      gap: 25px 0;
    }
    .option-btn {
      width: 100% !important;
      font-size: 1.3rem !important;
      padding: 45px 20px 55px 20px !important;
    }
    .option-btn .icon {
      font-size: 4rem !important;
    }
    .options-grid-small {
      grid-template-columns: 1fr !important;
      gap: 18px 0;
    }
    .option-btn-small {
      width: 100% !important;
      font-size: 1.1rem !important;
      padding: 25px 18px 35px 18px !important;
    }
    .option-btn-small .icon {
      font-size: 3rem !important;
    }
    .btn-group {
      flex-direction: column;
      gap: 18px;
      max-width: 90vw;
      margin: 0 auto 40px auto;
    }
    .btn-group button {
      width: 100%;
      font-size: 1.1rem;
      padding: 14px 0;
      min-width: unset;
    }
    .contact-input {
      font-size: 1rem !important;
      padding: 12px 16px !important;
    }
    .progress-container {
      height: 14px;
      margin-bottom: 30px;
    }
    .progress-text {
      font-size: 0.85rem;
      top: 12px;
      right: 10px;
    }
  }

  @media (max-width: 400px) {
    .option-btn .text {
      font-size: 1.4rem;
    }
    .option-btn-small .text {
      font-size: 1rem;
    }
  }
</style>
</head>
<body>
<div class="form-wrapper">

  <div class="progress-container" aria-label="Pr≈Øbƒõh dotazn√≠ku">
    <div class="progress-bar" id="progress-bar"></div>
    <div class="progress-text" id="progress-text">0%</div>
  </div>

  <!-- Section 1: Vyber typu nemovitosti -->
  <div id="section1" class="question-section active" role="region" aria-labelledby="section1-header">
    <h1 id="section1-header">Jakou nemovitost chcete ocenit?</h1>
    <p class="description">Ocenƒõn√≠ dostanete do 24 hodin zcela zdarma! Vyberte typ a zjistƒõte, kolik stoj√≠ v√°≈° kousek r√°je! üè°üíö</p>
    <div class="options-grid">
      <div class="option-btn" data-type="byt" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¢</div>
        <div class="text">Byt</div>
      </div>
      <div class="option-btn" data-type="dum" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè°</div>
        <div class="text">Rodinn√Ω d≈Øm</div>
      </div>
      <div class="option-btn" data-type="pozemek" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">Pozemek</div>
      </div>
      <div class="option-btn" data-type="komercni" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè™</div>
        <div class="text">Komerƒçn√≠</div>
      </div>
    </div>
  </div>

  <!-- BYT SECTIONS -->

  <!-- Section 2: Byt - Velikost -->
  <div id="section2-byt" class="question-section" role="region" aria-labelledby="section2-header">
    <h2 id="section2-header">Jak√° je velikost bytu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="flat-size" data-value="do 30 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 30 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="30-50 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">30-50 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="50-70 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">50-70 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="70-90 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">70-90 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="90-110 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">90-110 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="flat-size" data-value="110+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">110+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2" type="button">Zpƒõt</button>
      <button id="btn-flat-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3: Byt - Stav -->
  <div id="section3-byt" class="question-section" role="region" aria-labelledby="section3-header">
    <h2 id="section3-header">Jak√Ω je stav bytu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="flat-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="flat-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3" type="button">Zpƒõt</button>
      <button id="btn-flat-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4: Byt - Typ vyt√°pƒõn√≠ -->
  <div id="section4-heating" class="question-section" role="region" aria-labelledby="section4-heating-header">
    <h2 id="section4-heating-header">Jak√Ω typ vyt√°pƒõn√≠ m√° byt?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="heating" data-value="√öst≈ôedn√≠ topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî•</div>
        <div class="text">√öst≈ôedn√≠ topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Elektrick√© topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Elektrick√© topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Podlahov√© vyt√°pƒõn√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå°Ô∏è</div>
        <div class="text">Podlahov√© vyt√°pƒõn√≠</div>
      </div>
      <div class="option-btn-small" data-name="heating" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-heating" type="button">Zpƒõt</button>
      <button id="btn-heating-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 5: Byt - Stav balkonu -->
  <div id="section5-balcony" class="question-section" role="region" aria-labelledby="section5-balcony-header">
    <h2 id="section5-balcony-header">Jak√Ω je stav balkonu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="balcony-condition" data-value="Nov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Nov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="balcony-condition" data-value="Bez balkonu" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üö´</div>
        <div class="text">Bez balkonu</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-5-balcony" type="button">Zpƒõt</button>
      <button id="btn-balcony-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 6: Byt - Typ podlahy -->
  <div id="section6-floor" class="question-section" role="region" aria-labelledby="section6-floor-header">
    <h2 id="section6-floor-header">Jak√Ω typ podlahy je v bytƒõ?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="floor-type" data-value="D≈ôevo" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">ü™µ</div>
        <div class="text">D≈ôevo</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Lamin√°t" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß±</div>
        <div class="text">Lamin√°t</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Koberec" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß∂</div>
        <div class="text">Koberec</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Keramika" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üß±</div>
        <div class="text">Keramika</div>
      </div>
      <div class="option-btn-small" data-name="floor-type" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-6-floor" type="button">Zpƒõt</button>
      <button id="btn-floor-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- D≈ÆM sekce -->

  <!-- Section 2-dum: Velikost domu -->
  <div id="section2-dum" class="question-section" role="region" aria-labelledby="section2-dum-header">
    <h2 id="section2-dum-header">Jak√° je velikost domu (v m¬≤)?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-size" data-value="do 80 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 80 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="80-120 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">80-120 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="120-160 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">120-160 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="160-200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">160-200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="house-size" data-value="200+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">200+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-dum" type="button">Zpƒõt</button>
      <button id="btn-house-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-dum: Typ domu -->
  <div id="section3-dum" class="question-section" role="region" aria-labelledby="section3-dum-header">
    <h2 id="section3-dum-header">Jak√Ω typ domu m√°te?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-type" data-value="≈òadov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèòÔ∏è</div>
        <div class="text">≈òadov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Samostatn√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè†</div>
        <div class="text">Samostatn√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Patrov√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè°</div>
        <div class="text">Patrov√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-type" data-value="Bungalov" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèöÔ∏è</div>
        <div class="text">Bungalov</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-dum" type="button">Zpƒõt</button>
      <button id="btn-house-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-dum: Stav domu -->
  <div id="section4-dum" class="question-section" role="region" aria-labelledby="section4-dum-header">
    <h2 id="section4-dum-header">Jak√Ω je stav domu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="house-condition" data-value="K rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">K rekonstrukci</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-dum" type="button">Zpƒõt</button>
      <button id="btn-house-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 5-dum: Typ vyt√°pƒõn√≠ -->
  <div id="section5-dum-heating" class="question-section" role="region" aria-labelledby="section5-dum-heating-header">
    <h2 id="section5-dum-heating-header">Jak√Ω typ vyt√°pƒõn√≠ m√° d≈Øm?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="house-heating" data-value="√öst≈ôedn√≠ topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî•</div>
        <div class="text">√öst≈ôedn√≠ topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Elektrick√© topen√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Elektrick√© topen√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Podlahov√© vyt√°pƒõn√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå°Ô∏è</div>
        <div class="text">Podlahov√© vyt√°pƒõn√≠</div>
      </div>
      <div class="option-btn-small" data-name="house-heating" data-value="Jin√©" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√©</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-5-dum-heating" type="button">Zpƒõt</button>
      <button id="btn-house-heating-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 6-dum: Velikost pozemku -->
  <div id="section6-dum-plot" class="question-section" role="region" aria-labelledby="section6-dum-plot-header">
    <h2 id="section6-dum-plot-header">Jak velk√Ω je pozemek?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-size" data-value="do 200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">do 200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="200-500 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">200-500 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="500-1000 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">500-1000 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="1000+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">1000+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-6-dum-plot" type="button">Zpƒõt</button>
      <button id="btn-plot-size-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 7-dum: Vybaven√≠ domu -->
  <div id="section7-dum-equipment" class="question-section" role="region" aria-labelledby="section7-dum-equipment-header">
    <h2 id="section7-dum-equipment-header">Jak√© m√° d≈Øm vybaven√≠?</h2>
    <div class="checkbox-group">
      <label><input type="checkbox" data-name="house-equipment" data-value="Gar√°≈æ" /> Gar√°≈æ</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Baz√©n" /> Baz√©n</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Sklep" /> Sklep</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Terasa" /> Terasa</label><br/>
      <label><input type="checkbox" data-name="house-equipment" data-value="Krb" /> Krb</label><br/>
    </div>
    <div class="btn-group">
      <button id="btn-back-7-dum-equipment" type="button">Zpƒõt</button>
      <button id="btn-equipment-next" class="next-btn" type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- POZEMEK sekce -->

  <!-- Section 2-pozemek: Velikost pozemku -->
  <div id="section2-pozemek" class="question-section" role="region" aria-labelledby="section2-pozemek-header">
    <h2 id="section2-pozemek-header">Jak velk√Ω je pozemek?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-size" data-value="do 200 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">do 200 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="200-500 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">200-500 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="500-1000 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">500-1000 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="plot-size" data-value="1000+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≥</div>
        <div class="text">1000+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-pozemek: Typ pozemku -->
  <div id="section3-pozemek" class="question-section" role="region" aria-labelledby="section3-pozemek-header">
    <h2 id="section3-pozemek-header">Jak√Ω je typ pozemku?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-type" data-value="Zahrada" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå∑</div>
        <div class="text">Zahrada</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Stavebn√≠ pozemek" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üèóÔ∏è</div>
        <div class="text">Stavebn√≠ pozemek</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Orn√° p≈Øda" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üåæ</div>
        <div class="text">Orn√° p≈Øda</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Les" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üå≤</div>
        <div class="text">Les</div>
      </div>
      <div class="option-btn-small" data-name="plot-type" data-value="Jin√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√Ω</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-pozemek: P≈ô√≠stupov√° cesta -->
  <div id="section4-pozemek" class="question-section" role="region" aria-labelledby="section4-pozemek-header">
    <h2 id="section4-pozemek-header">M√° pozemek p≈ô√≠stupovou cestu?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="plot-access" data-value="Ano" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üõ£Ô∏è</div>
        <div class="text">Ano</div>
      </div>
      <div class="option-btn-small" data-name="plot-access" data-value="Ne" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üö´</div>
        <div class="text">Ne</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-pozemek" type="button">Zpƒõt</button>
      <button id="btn-plot-access-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- KOMERƒåN√ç sekce -->

  <!-- Section 2-komercni: Typ komerƒçn√≠ nemovitosti -->
  <div id="section2-komercni" class="question-section" role="region" aria-labelledby="section2-komercni-header">
    <h2 id="section2-komercni-header">Jak√Ω typ komerƒçn√≠ nemovitosti m√°te?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-type" data-value="Obchodn√≠ prostor" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¨</div>
        <div class="text">Obchodn√≠ prostor</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Kancel√°≈ô" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè¢</div>
        <div class="text">Kancel√°≈ô</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Sklad" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üì¶</div>
        <div class="text">Sklad</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="V√Ωrobn√≠ hala" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üè≠</div>
        <div class="text">V√Ωrobn√≠ hala</div>
      </div>
      <div class="option-btn-small" data-name="commercial-type" data-value="Jin√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ùì</div>
        <div class="text">Jin√Ω</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-2-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-type-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 3-komercni: Velikost plochy -->
  <div id="section3-komercni" class="question-section" role="region" aria-labelledby="section3-komercni-header">
    <h2 id="section3-komercni-header">Jak√° je velikost plochy (m¬≤)?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-area" data-value="do 100 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">do 100 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="100-300 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">100-300 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="300-600 m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">300-600 m¬≤</div>
      </div>
      <div class="option-btn-small" data-name="commercial-area" data-value="600+ m¬≤" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìè</div>
        <div class="text">600+ m¬≤</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-3-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-area-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 4-komercni: Stav budovy -->
  <div id="section4-komercni" class="question-section" role="region" aria-labelledby="section4-komercni-header">
    <h2 id="section4-komercni-header">Jak√Ω je stav budovy?</h2>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="commercial-condition" data-value="Novostavba" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ú®</div>
        <div class="text">Novostavba</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="Po rekonstrukci" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üî®</div>
        <div class="text">Po rekonstrukci</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="Dobr√Ω" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üëç</div>
        <div class="text">Dobr√Ω</div>
      </div>
      <div class="option-btn-small" data-name="commercial-condition" data-value="Vy≈æaduje opravy" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üîß</div>
        <div class="text">Vy≈æaduje opravy</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-4-komercni" type="button">Zpƒõt</button>
      <button id="btn-commercial-condition-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- COMMON SECTIONS (spoleƒçn√© pro v≈°echny nemovitosti) -->

  <!-- Section 7 or 8: D≈Øvod ocenƒõn√≠ -->
  <div id="section7-reason" class="question-section" role="region" aria-labelledby="section7-reason-header">
    <h2 id="section7-reason-header">Proƒç chcete nemovitost ocenit?</h2>
    <p class="description">Zaj√≠m√° n√°s d≈Øvod, proƒç se pt√°te ‚Äì a≈• u≈æ dƒõdictv√≠ nebo pl√°nujete prodat...</p>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="reason" data-value="Dƒõdictv√≠" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üë™</div>
        <div class="text">Dƒõdictv√≠</div>
      </div>
      <div class="option-btn-small" data-name="reason" data-value="Prodej" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üí∞</div>
        <div class="text">Prodej</div>
      </div>
      <div class="option-btn-small" data-name="reason" data-value="Pro zaj√≠mavost" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">ü§î</div>
        <div class="text">Jen ze zaj√≠mavosti</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-7-reason" type="button">Zpƒõt</button>
      <button id="btn-reason-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 8: Prodej - term√≠n -->
  <div id="section8-sale-term" class="question-section" role="region" aria-labelledby="section8-sale-header">
    <h2 id="section8-sale-header">Do kdy chcete prodat?</h2>
    <p class="description">Vyberte, jak moc to spƒõch√° ‚Äì ≈æ√°d√°me o va≈°e priority üòâ</p>
    <div class="options-grid-small" role="list">
      <div class="option-btn-small" data-name="sale-term" data-value="Ihned" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚ö°</div>
        <div class="text">Ihned</div>
      </div>
      <div class="option-btn-small" data-name="sale-term" data-value="Do 3 mƒõs√≠c≈Ø" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üìÖ</div>
        <div class="text">Do 3 mƒõs√≠c≈Ø</div>
      </div>
      <div class="option-btn-small" data-name="sale-term" data-value="Do 6 mƒõs√≠c≈Ø" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">‚è≥</div>
        <div class="text">Do 6 mƒõs√≠c≈Ø</div>
      </div>
      <div class="option-btn-small" data-name="sale-term" data-value="Nespƒõch√°m" tabindex="0" role="button" aria-pressed="false">
        <div class="icon" aria-hidden="true">üê¢</div>
        <div class="text">Nespƒõch√°m</div>
      </div>
    </div>
    <div class="btn-group">
      <button id="btn-back-8-sale" type="button">Zpƒõt</button>
      <button id="btn-sale-term-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 9: Lokalita nemovitosti -->
  <div id="section9-location" class="question-section" role="region" aria-labelledby="section9-location-header">
    <h2 id="section9-location-header">Kde se nemovitost nach√°z√≠?</h2>
    <p class="description">Mƒõsto, obec nebo oblast, kde se va≈°e nemovitost nach√°z√≠</p>
    <input type="text" id="input-location" class="contact-input" placeholder="Nap≈ô. Praha, Brno, Ostrava" aria-label="Lokalita nemovitosti" />
    <div class="btn-group">
      <button id="btn-back-9-location" type="button">Zpƒõt</button>
      <button id="btn-location-next" class="next-btn" disabled type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 10: Dal≈°√≠ informace -->
  <div id="section10-info" class="question-section" role="region" aria-labelledby="section10-info-header">
    <h2 id="section10-info-header">Co byste n√°m je≈°tƒõ chtƒõli ≈ô√≠ct?</h2>
    <p class="description">Pom≈Ø≈æe n√°m to p≈ôipravit co nejp≈ôesnƒõj≈°√≠ odhad üòä</p>
    <textarea id="input-extra" class="contact-input" rows="4" placeholder="Napi≈°te n√°m nƒõco o nemovitosti..." aria-label="Dal≈°√≠ informace o nemovitosti"></textarea>
    <div class="btn-group">
      <button id="btn-back-10-info" type="button">Zpƒõt</button>
      <button id="btn-info-next" class="next-btn" type="button">Pokraƒçovat</button>
    </div>
  </div>

  <!-- Section 11: Kontaktn√≠ √∫daje -->
  <div id="section11-contact" class="question-section" role="region" aria-labelledby="section11-contact-header">
    <h2 id="section11-contact-header">Va≈°e kontaktn√≠ √∫daje</h2>
    <p class="description">Pot≈ôebujeme v√°s kontaktovat s ocenƒõn√≠m nemovitosti</p>
    <input type="text" id="input-name" class="contact-input" placeholder="Jm√©no a p≈ô√≠jmen√≠" aria-label="Jm√©no a p≈ô√≠jmen√≠" />
    <input type="email" id="input-email" class="contact-input" placeholder="E-mail" aria-label="E-mail" />
    <input type="tel" id="input-phone" class="contact-input" placeholder="Telefon" aria-label="Telefon" />
    <div class="checkbox-group">
      <label><input type="checkbox" id="input-consent" aria-required="true" /> Souhlas√≠m se zpracov√°n√≠m osobn√≠ch √∫daj≈Ø pro √∫ƒçely ocenƒõn√≠ nemovitosti (podle legislativy GDPR)</label>
    </div>
    <div class="btn-group">
      <button id="btn-back-11-contact" type="button">Zpƒõt</button>
      <button id="btn-submit" class="next-btn" disabled type="button">Odeslat ≈æ√°dost</button>
    </div>
  </div>

  <!-- Section 12: Shrnut√≠ a podƒõkov√°n√≠ -->
  <div id="section12-thanks" class="question-section" role="region" aria-labelledby="section12-thanks-header">
    <div class="congrats-message" id="congrats-message">üéâ Gratulujeme! üéâ</div>
    <h2 id="section12-thanks-header">Ocenƒõn√≠ bude zpracov√°no co nejd≈ô√≠ve</h2>
    <p class="description">Dƒõkujeme za vyplnƒõn√≠ dotazn√≠ku. Brzy v√°s kontaktujeme s p≈ôesn√Ωm odhadem va≈°√≠ nemovitosti.</p>
    <button id="btn-restart" class="next-btn">Zaƒç√≠t znovu</button>
  </div>

</div>

<div class="fireworks-container" id="fireworks-container"></div>

<script>
  (function() {
    const sections = {
      'section1': document.getElementById('section1'),

      // Byt
      'section2-byt': document.getElementById('section2-byt'),
      'section3-byt': document.getElementById('section3-byt'),
      'section4-heating': document.getElementById('section4-heating'),
      'section5-balcony': document.getElementById('section5-balcony'),
      'section6-floor': document.getElementById('section6-floor'),

      // D≈Øm
      'section2-dum': document.getElementById('section2-dum'),
      'section3-dum': document.getElementById('section3-dum'),
      'section4-dum': document.getElementById('section4-dum'),
      'section5-dum-heating': document.getElementById('section5-dum-heating'),
      'section6-dum-plot': document.getElementById('section6-dum-plot'),
      'section7-dum-equipment': document.getElementById('section7-dum-equipment'),

      // Pozemek
      'section2-pozemek': document.getElementById('section2-pozemek'),
      'section3-pozemek': document.getElementById('section3-pozemek'),
      'section4-pozemek': document.getElementById('section4-pozemek'),

      // Komerƒçn√≠
      'section2-komercni': document.getElementById('section2-komercni'),
      'section3-komercni': document.getElementById('section3-komercni'),
      'section4-komercni': document.getElementById('section4-komercni'),

      // Spoleƒçn√©
      'section7-reason': document.getElementById('section7-reason'),
      'section8-sale-term': document.getElementById('section8-sale-term'),
      'section9-location': document.getElementById('section9-location'),
      'section10-info': document.getElementById('section10-info'),
      'section11-contact': document.getElementById('section11-contact'),
      'section12-thanks': document.getElementById('section12-thanks')
    };

    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');

    // Dynamick√Ω poƒçet krok≈Ø dle typu nemovitosti
    const stepsByType = {
      byt: [
        'section1', 'section2-byt', 'section3-byt', 'section4-heating', 'section5-balcony', 'section6-floor',
        'section7-reason', 'section8-sale-term', 'section9-location', 'section10-info', 'section11-contact', 'section12-thanks'
      ],
      dum: [
        'section1', 'section2-dum', 'section3-dum', 'section4-dum', 'section5-dum-heating', 'section6-dum-plot', 'section7-dum-equipment',
        'section7-reason', 'section8-sale-term', 'section9-location', 'section10-info', 'section11-contact', 'section12-thanks'
      ],
      pozemek: [
        'section1', 'section2-pozemek', 'section3-pozemek', 'section4-pozemek',
        'section7-reason', 'section8-sale-term', 'section9-location', 'section10-info', 'section11-contact', 'section12-thanks'
      ],
      komercni: [
        'section1', 'section2-komercni', 'section3-komercni', 'section4-komercni',
        'section7-reason', 'section8-sale-term', 'section9-location', 'section10-info', 'section11-contact', 'section12-thanks'
      ]
    };

    let currentStepIndex = 0;
    let currentSteps = stepsByType.byt; // default byt
    const answers = {};
    let selectedType = null;
    let reasonIsProdej = false;

    function showSection(id) {
      for (const key in sections) {
        sections[key].classList.remove('active');
      }
      sections[id].classList.add('active');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function updateProgress() {
      let progressPercent = Math.round(((currentStepIndex + 1) / currentSteps.length) * 100);
      progressBar.style.width = progressPercent + '%';
      let green = Math.floor(52 + (203 * (1 - (currentStepIndex + 1) / currentSteps.length)));
      let red = Math.floor(135 + (120 * ((currentStepIndex + 1) / currentSteps.length)));
      progressBar.style.background = `linear-gradient(90deg, rgb(52,211,153), rgb(${red},${green},113))`;
      progressText.textContent = progressPercent + '%';
    }

    function goToStep(index) {
      currentStepIndex = index;
      showSection(currentSteps[currentStepIndex]);
    }

    // START - V√Ωbƒõr typu nemovitosti
    document.querySelectorAll('#section1 .option-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        selectedType = btn.dataset.type;
        answers['property-type'] = selectedType;
        currentSteps = stepsByType[selectedType] || stepsByType.byt;
        currentStepIndex = 1;
        showSection(currentSteps[currentStepIndex]);
      });
    });

    // --- BYT sekce ---

    // Section 2 byt - velikost
    let flatSizeSelected = null;
    document.querySelectorAll('#section2-byt .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section2-byt .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        flatSizeSelected = btn.dataset.value;
        answers['flat-size'] = flatSizeSelected;
        document.getElementById('btn-flat-size-next').disabled = false;
      });
    });
    document.getElementById('btn-flat-size-next').addEventListener('click', () => {
      if (flatSizeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-2').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 3 byt - stav
    let flatConditionSelected = null;
    document.querySelectorAll('#section3-byt .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section3-byt .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        flatConditionSelected = btn.dataset.value;
        answers['flat-condition'] = flatConditionSelected;
        document.getElementById('btn-flat-condition-next').disabled = false;
      });
    });
    document.getElementById('btn-flat-condition-next').addEventListener('click', () => {
      if (flatConditionSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-3').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 4 byt - topen√≠
    let heatingSelected = null;
    document.querySelectorAll('#section4-heating .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section4-heating .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        heatingSelected = btn.dataset.value;
        answers['heating'] = heatingSelected;
        document.getElementById('btn-heating-next').disabled = false;
      });
    });
    document.getElementById('btn-heating-next').addEventListener('click', () => {
      if (heatingSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-4-heating').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 5 byt - balkon
    let balconySelected = null;
    document.querySelectorAll('#section5-balcony .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section5-balcony .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        balconySelected = btn.dataset.value;
        answers['balcony-condition'] = balconySelected;
        document.getElementById('btn-balcony-next').disabled = false;
      });
    });
    document.getElementById('btn-balcony-next').addEventListener('click', () => {
      if (balconySelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-5-balcony').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 6 byt - podlaha
    let floorSelected = null;
    document.querySelectorAll('#section6-floor .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section6-floor .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        floorSelected = btn.dataset.value;
        answers['floor-type'] = floorSelected;
        document.getElementById('btn-floor-next').disabled = false;
      });
    });
    document.getElementById('btn-floor-next').addEventListener('click', () => {
      if (floorSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-6-floor').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // --- D≈ÆM sekce ---

    // Section 2 dum - velikost
    let houseSizeSelected = null;
    document.querySelectorAll('#section2-dum .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section2-dum .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        houseSizeSelected = btn.dataset.value;
        answers['house-size'] = houseSizeSelected;
        document.getElementById('btn-house-size-next').disabled = false;
      });
    });
    document.getElementById('btn-house-size-next').addEventListener('click', () => {
      if (houseSizeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-2-dum').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 3 dum - typ domu
    let houseTypeSelected = null;
    document.querySelectorAll('#section3-dum .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section3-dum .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        houseTypeSelected = btn.dataset.value;
        answers['house-type'] = houseTypeSelected;
        document.getElementById('btn-house-type-next').disabled = false;
      });
    });
    document.getElementById('btn-house-type-next').addEventListener('click', () => {
      if (houseTypeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-3-dum').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 4 dum - stav
    let houseConditionSelected = null;
    document.querySelectorAll('#section4-dum .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section4-dum .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        houseConditionSelected = btn.dataset.value;
        answers['house-condition'] = houseConditionSelected;
        document.getElementById('btn-house-condition-next').disabled = false;
      });
    });
    document.getElementById('btn-house-condition-next').addEventListener('click', () => {
      if (houseConditionSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-4-dum').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 5 dum - topen√≠
    let houseHeatingSelected = null;
    document.querySelectorAll('#section5-dum-heating .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section5-dum-heating .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        houseHeatingSelected = btn.dataset.value;
        answers['house-heating'] = houseHeatingSelected;
        document.getElementById('btn-house-heating-next').disabled = false;
      });
    });
    document.getElementById('btn-house-heating-next').addEventListener('click', () => {
      if (houseHeatingSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-5-dum-heating').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 6 dum - pozemek
    let plotSizeSelected = null;
    document.querySelectorAll('#section6-dum-plot .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section6-dum-plot .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        plotSizeSelected = btn.dataset.value;
        answers['plot-size'] = plotSizeSelected;
        document.getElementById('btn-plot-size-next').disabled = false;
      });
    });
    document.getElementById('btn-plot-size-next').addEventListener('click', () => {
      if (plotSizeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-6-dum-plot').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 7 dum - vybaven√≠
    document.querySelectorAll('#section7-dum-equipment input[type=checkbox]').forEach(chk => {
      chk.addEventListener('change', () => {
        // nic nedƒõl√°me, tlaƒç√≠tko Pokraƒçovat je aktivn√≠ v≈ædy
      });
    });
    document.getElementById('btn-equipment-next').addEventListener('click', () => {
      const selectedEquipments = [];
      document.querySelectorAll('#section7-dum-equipment input[type=checkbox]:checked').forEach(chk => {
        selectedEquipments.push(chk.dataset.value);
      });
      answers['house-equipment'] = selectedEquipments;
      goToStep(currentStepIndex + 1);
    });
    document.getElementById('btn-back-7-dum-equipment').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // --- POZEMEK sekce ---

    // Section 2 pozemek - velikost pozemku
    let plotSizePozemekSelected = null;
    document.querySelectorAll('#section2-pozemek .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section2-pozemek .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        plotSizePozemekSelected = btn.dataset.value;
        answers['plot-size'] = plotSizePozemekSelected;
        document.getElementById('btn-plot-next').disabled = false;
      });
    });
    document.getElementById('btn-plot-next').addEventListener('click', () => {
      if (plotSizePozemekSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-2-pozemek').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 3 pozemek - typ pozemku
    let plotTypeSelected = null;
    document.querySelectorAll('#section3-pozemek .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section3-pozemek .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        plotTypeSelected = btn.dataset.value;
        answers['plot-type'] = plotTypeSelected;
        document.getElementById('btn-plot-type-next').disabled = false;
      });
    });
    document.getElementById('btn-plot-type-next').addEventListener('click', () => {
      if (plotTypeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-3-pozemek').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 4 pozemek - p≈ô√≠stupov√° cesta
    let plotAccessSelected = null;
    document.querySelectorAll('#section4-pozemek .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section4-pozemek .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        plotAccessSelected = btn.dataset.value;
        answers['plot-access'] = plotAccessSelected;
        document.getElementById('btn-plot-access-next').disabled = false;
      });
    });
    document.getElementById('btn-plot-access-next').addEventListener('click', () => {
      if (plotAccessSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-4-pozemek').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // --- KOMERƒåN√ç sekce ---

    // Section 2 komercni - typ nemovitosti
    let commercialTypeSelected = null;
    document.querySelectorAll('#section2-komercni .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section2-komercni .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        commercialTypeSelected = btn.dataset.value;
        answers['commercial-type'] = commercialTypeSelected;
        document.getElementById('btn-commercial-type-next').disabled = false;
      });
    });
    document.getElementById('btn-commercial-type-next').addEventListener('click', () => {
      if (commercialTypeSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-2-komercni').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 3 komercni - velikost plochy
    let commercialAreaSelected = null;
    document.querySelectorAll('#section3-komercni .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section3-komercni .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        commercialAreaSelected = btn.dataset.value;
        answers['commercial-area'] = commercialAreaSelected;
        document.getElementById('btn-commercial-area-next').disabled = false;
      });
    });
    document.getElementById('btn-commercial-area-next').addEventListener('click', () => {
      if (commercialAreaSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-3-komercni').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 4 komercni - stav budovy
    let commercialConditionSelected = null;
    document.querySelectorAll('#section4-komercni .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section4-komercni .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        commercialConditionSelected = btn.dataset.value;
        answers['commercial-condition'] = commercialConditionSelected;
        document.getElementById('btn-commercial-condition-next').disabled = false;
      });
    });
    document.getElementById('btn-commercial-condition-next').addEventListener('click', () => {
      if (commercialConditionSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-4-komercni').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // --- SPOLEƒåN√â sekce ---

    // Section 7 reason
    let reasonSelected = null;
    document.querySelectorAll('#section7-reason .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section7-reason .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        reasonSelected = btn.dataset.value;
        answers['reason'] = reasonSelected;
        document.getElementById('btn-reason-next').disabled = false;
      });
    });
    document.getElementById('btn-reason-next').addEventListener('click', () => {
      if (reasonSelected) {
        reasonIsProdej = reasonSelected === 'Prodej';
        // Pokud je prodej, uk√°≈æeme dal≈°√≠ ot√°zku pro term√≠n, jinak p≈ôeskoƒç√≠me
        if (reasonIsProdej) {
          currentStepIndex++;
          showSection(currentSteps[currentStepIndex]);
        } else {
          currentStepIndex += 2; // p≈ôeskoƒç√≠me "term√≠n prodeje"
          showSection(currentSteps[currentStepIndex]);
        }
      }
    });
    document.getElementById('btn-back-7-reason').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 8 sale-term
    let saleTermSelected = null;
    document.querySelectorAll('#section8-sale-term .option-btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('#section8-sale-term .option-btn-small').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        saleTermSelected = btn.dataset.value;
        answers['sale-term'] = saleTermSelected;
        document.getElementById('btn-sale-term-next').disabled = false;
      });
    });
    document.getElementById('btn-sale-term-next').addEventListener('click', () => {
      if (saleTermSelected) {
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-8-sale').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 9 location
    const inputLocation = document.getElementById('input-location');
    inputLocation.addEventListener('input', () => {
      document.getElementById('btn-location-next').disabled = inputLocation.value.trim() === '';
    });
    document.getElementById('btn-location-next').addEventListener('click', () => {
      if (inputLocation.value.trim() !== '') {
        answers['location'] = inputLocation.value.trim();
        goToStep(currentStepIndex + 1);
      }
    });
    document.getElementById('btn-back-9-location').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 10 info (voliteln√©)
    document.getElementById('btn-info-next').addEventListener('click', () => {
      answers['extra-info'] = document.getElementById('input-extra').value.trim();
      goToStep(currentStepIndex + 1);
    });
    document.getElementById('btn-back-10-info').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Section 11 contact data validation
    const inputName = document.getElementById('input-name');
    const inputEmail = document.getElementById('input-email');
    const inputPhone = document.getElementById('input-phone');
    const inputConsent = document.getElementById('input-consent');
    const btnSubmit = document.getElementById('btn-submit');

    function validateContact() {
      const validEmail = /\S+@\S+\.\S+/.test(inputEmail.value);
      const validName = inputName.value.trim().length > 1;
      const validPhone = inputPhone.value.trim().length > 5;
      const consentChecked = inputConsent.checked;
      btnSubmit.disabled = !(validEmail && validName && validPhone && consentChecked);
    }

    inputName.addEventListener('input', validateContact);
    inputEmail.addEventListener('input', validateContact);
    inputPhone.addEventListener('input', validateContact);
    inputConsent.addEventListener('change', validateContact);

    btnSubmit.addEventListener('click', () => {
      if (!btnSubmit.disabled) {
        answers['name'] = inputName.value.trim();
        answers['email'] = inputEmail.value.trim();
        answers['phone'] = inputPhone.value.trim();
        answers['consent'] = inputConsent.checked;
        // TODO: zde m≈Ø≈æe b√Ωt vol√°n√≠ na backend pro odesl√°n√≠ dat
        goToStep(currentStepIndex + 1);
        startFireworks();
      }
    });

    document.getElementById('btn-back-11-contact').addEventListener('click', () => {
      goToStep(currentStepIndex - 1);
    });

    // Restart
    document.getElementById('btn-restart').addEventListener('click', () => {
      location.reload();
    });

    // Initial progress update
    updateProgress();

    // Fireworks animation - vƒõt≈°√≠ a barevnƒõj≈°√≠
    function startFireworks() {
      const container = document.getElementById('fireworks-container');
      container.innerHTML = '';
      const width = window.innerWidth;
      const height = window.innerHeight;

      function createParticle(x, y, color) {
        const p = document.createElement('div');
        p.style.position = 'absolute';
        p.style.left = x + 'px';
        p.style.top = y + 'px';
        p.style.width = '6px';
        p.style.height = '6px';
        p.style.borderRadius = '50%';
        p.style.backgroundColor = color;
        p.style.pointerEvents = 'none';
        p.style.opacity = '1';
        p.style.zIndex = '10000';
        p.style.willChange = 'transform, opacity';

        container.appendChild(p);

        const angle = Math.random() * 2 * Math.PI;
        const speed = 120 + Math.random() * 150;
        const vx = Math.cos(angle) * speed;
        const vy = Math.sin(angle) * speed;
        const duration = 1200 + Math.random() * 800;

        let start = null;

        function animate(time) {
          if (!start) start = time;
          const elapsed = time - start;
          const progress = elapsed / duration;
          if (progress < 1) {
            p.style.transform = `translate(${vx * progress}px, ${vy * progress}px) scale(${1 - progress})`;
            p.style.opacity = String(1 - progress);
            requestAnimationFrame(animate);
          } else {
            container.removeChild(p);
          }
        }
        requestAnimationFrame(animate);
      }

      function randomColor() {
        const colors = ['#EF4444', '#F97316', '#FBBF24', '#22C55E', '#3B82F6', '#8B5CF6', '#EC4899'];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      let count = 0;
      const maxCount = 15;

      function launchFirework() {
        const x = Math.random() * width * 0.8 + width * 0.1;
        const y = Math.random() * height * 0.5 + height * 0.1;
        const particlesCount = 25 + Math.floor(Math.random() * 10);

        for (let i = 0; i < particlesCount; i++) {
          createParticle(x, y, randomColor());
        }
        count++;
        if (count < maxCount) {
          setTimeout(launchFirework, 400 + Math.random() * 700);
        } else {
          setTimeout(() => {
            container.innerHTML = '';
          }, 2000);
        }
      }

      launchFirework();
    }

  })();
</script>
</body>
</html> 
